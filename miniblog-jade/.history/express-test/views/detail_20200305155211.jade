extends layout
block css
  style(type="text/css").
    .comments {
      width:100%;/*自动适应父布局宽度*/
      overflow:auto;
      word-break:break-all;
      /*在ie中解决断行问题(防止自动变为在一行显示，主要解决ie兼容问题，ie8中当设宽度为100%时，文本域类容超过一行时，
      当我们双击文本内容就会自动变为一行显示，所以只能用ie的专有断行属性“word-break或word-wrap”控制其断行)*/
      }
block content
  include includes/header.jade
  h2 #{bolgtitle}
  textarea.content(autoHeight="true" readonly="readonly") #{bolgcontent}
  script.
    $(".username").hide();
    $(function(){
        $.fn.autoHeight = function(){    
        function autoHeight(elem){
            elem.style.height = 'auto';
            elem.scrollTop = 0; //防抖动
            elem.style.height = elem.scrollHeight + 'px';
        }
        this.each(function(){
            autoHeight(this);
            $(this).on('keyup', function(){
                autoHeight(this);
            });
        });    
    }                
    $('textarea[autoHeight]').autoHeight();    
})
    

